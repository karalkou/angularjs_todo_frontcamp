<!doctype html>
<html>
<head>
    <title>Tasks App</title>
</head>
<body>
<div ng-app='todoApp' class='todo-app'>
    <div ng-controller='todoController'>
        <h3>This is Todo app</h3>
        <form ng-submit="addTodo()" name='form'>
            <input id="new-todo" ng-model='newTodo' placeholder="What you need to do?">
            <input type="button" value="Add todo" ng-click="addTodo()"/>
        </form>
        <input ng-model='textFilter' placeholder="Sort by text">
        <h4>New todos</h4>
        <ul>
            <li ng-repeat='task in newTasks | filter:dateFilter:textFilter' ng-click="completeTask(task)">
                <span class='tasks__item' ng-class='{"tasks__item_done": task.done}'>{{task.text}}</span>
                <span class='tasks__created-at'>created at {{task.createdAt | customDate}}</span>
            </li>
        </ul>

        <h4>Completed todos</h4>
        <ul>
            <li ng-repeat='task in completedTasks | filter:dateFilter' ng-click="completeTask(task)">
                <span class='tasks__item' ng-class='{"tasks__item_done": task.done}'>{{task.text}}</span>
                <span class='tasks__created-at'>created at {{task.createdAt | customDate}}</span>
            </li>
        </ul>
        <ul class='filter'>
            <li class='filter__item'
                ng-class='{"filter__item_active": filter === -1}'
                ng-click="changeFilter(-1)">All
            </li>
            <li class='filter__item'
                ng-class='{"filter__item_active": filter === 0}'
                ng-click="changeFilter(0)">Created Today
            </li>
            <li class='filter__item'
                ng-class='{"filter__item_active": filter === 1}'
                ng-click="changeFilter(1)">Created Last day
            </li>
            <li class='filter__item'
                ng-class='{"filter__item_active": filter === 7}'
                ng-click="changeFilter(7)">Created Last week
            </li>
        </ul>
    </div>
</div>
</body>
</html>
